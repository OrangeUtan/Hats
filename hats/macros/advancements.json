{%- macro category_root(category, cmd, hats) -%}
{
	"parent" : "oran9eutan:hats/root",
	"display" : {
		"title" : {
			"translate": "advancements.hats.{{ category }}.root.title"
		},
		"description" : {
			"translate": "advancements.hats.{{ category }}.root.description"
		},
		"icon": {
			"item": "minecraft:stick",
			"nbt": "{CustomModelData: {{ cmd }}}"
		},
		"frame": "task",
		"show_toast": true,
		"announce_to_chat": false,
		"hidden": false
	},
	"criteria" : {
		{%- for hat in hats %}
		"{{ hat.type }}": {
			"trigger" : "minecraft:inventory_changed",
			"conditions" : {
				"items": [
					{ "nbt": "{Tags:[\"{{ hat.type_tag }}\"]}" }
				]
			}
		}{% if not loop.last %},{% endif %}
		{%- endfor %}
	},
	"requirements" : [[
		{%- for hat in hats %}
		"{{ hat.type }}"{% if not loop.last %},{% endif %}
		{%- endfor %}
	]]
}
{%- endmacro %}
